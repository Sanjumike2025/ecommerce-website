/*! For license information please see 120.9f4c8fea49bfdc2cc7be.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[120],{1347:(e,t,r)=>{r.d(t,{A:()=>i,K:()=>o});var n=r(8413),a=r(1609);function o(e){return(0,a.Ay)("MuiDivider",e)}const i=(0,n.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},8081:(e,t,r)=>{r.d(t,{A:()=>i,b:()=>o});var n=r(8413),a=r(1609);function o(e){return(0,a.Ay)("MuiListItemText",e)}const i=(0,n.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},8120:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var n=r(6540),a=r(7834),o=r(3357),i=r(4073),l=r(1081),c=r(3198),s=r(538),u=r(4137),d=r(6627),p=r(6798),m=r(4774),f=r(3884),v=r(779),h=r(9571),g=r(643),b=r(8740),y=r(6990),A=r(1083),E=r(9591);function x(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return w(s,"_invoke",function(r,n,a){var o,l,c,s=0,u=a||[],d=!1,p={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return o=t,l=0,c=e,p.n=r,i}};function m(r,n){for(l=r,c=n,t=0;!d&&s&&!a&&t<u.length;t++){var a,o=u[t],m=p.p,f=o[2];r>3?(a=f===n)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=m&&((a=r<2&&m<o[1])?(l=0,p.v=n,p.n=o[1]):m<f&&(a=r<3||o[0]>n||n>f)&&(o[4]=r,o[5]=n,p.n=f,l=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,f){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&m(u,f),l=u,c=f;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),m(l,c)):p.n=c:p.v=c);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:r.call(n,p))!==i)break}catch(t){o=e,l=1,c=t}finally{s=1}}return{value:t,done:d}}}(r,a,o),!0),s}var i={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(w(t={},n,function(){return this}),t),d=s.prototype=l.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,w(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,w(d,"constructor",s),w(s,"constructor",c),c.displayName="GeneratorFunction",w(s,a,"GeneratorFunction"),w(d),w(d,a,"Generator"),w(d,n,function(){return this}),w(d,"toString",function(){return"[object Generator]"}),(x=function(){return{w:o,m:p}})()}function w(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}w=function(e,t,r,n){function o(t,r){w(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},w(e,t,r,n)}function O(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function S(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){O(o,n,a,i,l,"next",e)}function l(e){O(o,n,a,i,l,"throw",e)}i(void 0)})}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const k=function(){var e=(0,E.A)().token,t=C((0,n.useState)([]),2),r=t[0],w=t[1],O=C((0,n.useState)(!0),2),$=O[0],k=O[1],I=C((0,n.useState)(null),2),j=I[0],M=I[1],G=function(){var t=S(x().m(function t(){var r,n;return x().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,k(!0),t.n=1,A.A.get("http://localhost:5000/api/orders",{headers:{Authorization:"Bearer ".concat(e)}});case 1:r=t.v,w(r.data.filter(function(e){return"Cancelled"!==e.status&&"Delivered"!==e.status})),t.n=3;break;case 2:t.p=2,n=t.v,console.error("Error fetching orders:",n),M("Failed to fetch order data.");case 3:return t.p=3,k(!1),t.f(3);case 4:return t.a(2)}},t,null,[[0,2,3,4]])}));return function(){return t.apply(this,arguments)}}();(0,n.useEffect)(function(){G()},[e]);var T=function(){var t=S(x().m(function t(r,n){var a,o;return x().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,A.A.put("http://localhost:5000/api/orders/".concat(r,"/status"),{status:n},{headers:{Authorization:"Bearer ".concat(e)}});case 1:G(),t.n=3;break;case 2:t.p=2,o=t.v,console.error("Error updating order status:",(null===(a=o.response)||void 0===a?void 0:a.data)||o.message),alert("Failed to update order status.");case 3:return t.a(2)}},t,null,[[0,2]])}));return function(e,r){return t.apply(this,arguments)}}();return $?n.createElement(a.A,{maxWidth:"lg",sx:{mt:4,mb:4}},n.createElement(o.A,null),n.createElement(i.A,null,"Loading shipping data...")):j&&!r.length?n.createElement(a.A,{maxWidth:"lg",sx:{mt:4,mb:4}},n.createElement(l.A,{severity:"error"},j)):n.createElement(a.A,{maxWidth:"lg",sx:{mt:4,mb:4}},n.createElement(i.A,{variant:"h4",component:"h1",gutterBottom:!0},"Shipping Management"),0===r.length?n.createElement(i.A,null,"No active orders for shipping management."):n.createElement(c.A,{component:s.A},n.createElement(u.A,null,n.createElement(d.A,null,n.createElement(p.A,null,n.createElement(m.A,null,"Order ID"),n.createElement(m.A,null,"Customer"),n.createElement(m.A,null,"Shipping Address"),n.createElement(m.A,null,"Status"),n.createElement(m.A,null,"Actions"))),n.createElement(f.A,null,r.map(function(e){return n.createElement(p.A,{key:e.id},n.createElement(m.A,null,e.id),n.createElement(m.A,null,e.first_name," ",e.last_name," (",e.email,")"),n.createElement(m.A,null,e.shipping_address,", ",e.municipal,", ",e.district,", ",e.province),n.createElement(m.A,null,n.createElement(v.A,{variant:"standard",sx:{m:1,minWidth:120}},n.createElement(h.A,null,"Status"),n.createElement(g.A,{value:e.status,onChange:function(t){return T(e.id,t.target.value)},label:"Status"},n.createElement(b.A,{value:"pending"},"Pending"),n.createElement(b.A,{value:"processing"},"Processing"),n.createElement(b.A,{value:"shipped"},"Shipped"),n.createElement(b.A,{value:"delivered"},"Delivered")))),n.createElement(m.A,null,n.createElement(y.A,{variant:"outlined",size:"small",href:"/order/".concat(e.id)},"View Order")))})))))}},8740:(e,t,r)=>{r.d(t,{A:()=>C});var n=r(8587),a=r(8168),o=r(6540),i=r(4164),l=r(5659),c=r(771),s=r(1848),u=r(9770),d=r(5669),p=r(2850),m=r(6606),f=r(2778),v=r(6852),h=r(1347),g=r(8413);const b=(0,g.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);var y=r(8081),A=r(1609);function E(e){return(0,A.Ay)("MuiMenuItem",e)}const x=(0,g.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var w=r(4848);const O=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],S=(0,s.Ay)(m.A,{shouldForwardProp:e=>(0,u.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]}})(({theme:e,ownerState:t})=>(0,a.A)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${x.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,c.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${x.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,c.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${x.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,c.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,c.X4)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${x.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${x.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${h.A.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${h.A.inset}`]:{marginLeft:52},[`& .${y.A.root}`]:{marginTop:0,marginBottom:0},[`& .${y.A.inset}`]:{paddingLeft:36},[`& .${b.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,a.A)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${b.root} svg`]:{fontSize:"1.25rem"}}))),C=o.forwardRef(function(e,t){const r=(0,d.b)({props:e,name:"MuiMenuItem"}),{autoFocus:c=!1,component:s="li",dense:u=!1,divider:m=!1,disableGutters:h=!1,focusVisibleClassName:g,role:b="menuitem",tabIndex:y,className:A}=r,x=(0,n.A)(r,O),C=o.useContext(p.A),$=o.useMemo(()=>({dense:u||C.dense||!1,disableGutters:h}),[C.dense,u,h]),k=o.useRef(null);(0,f.A)(()=>{c&&k.current&&k.current.focus()},[c]);const I=(0,a.A)({},r,{dense:$.dense,divider:m,disableGutters:h}),j=(e=>{const{disabled:t,dense:r,divider:n,disableGutters:o,selected:i,classes:c}=e,s={root:["root",r&&"dense",t&&"disabled",!o&&"gutters",n&&"divider",i&&"selected"]},u=(0,l.A)(s,E,c);return(0,a.A)({},c,u)})(r),M=(0,v.A)(k,t);let G;return r.disabled||(G=void 0!==y?y:-1),(0,w.jsx)(p.A.Provider,{value:$,children:(0,w.jsx)(S,(0,a.A)({ref:M,role:b,tabIndex:G,component:s,focusVisibleClassName:(0,i.A)(j.focusVisible,g),className:(0,i.A)(j.root,A)},x,{ownerState:I,classes:j}))})})}}]);